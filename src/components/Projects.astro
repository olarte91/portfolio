---
import EnhancedProjectCard from "./EnhancedProjectCard.astro";
import { getCollection } from "astro:content";

import githubIcon from "../assets/images/github.png";

const projectsData = await getCollection("projects");
---

<section class="w-full h-auto py-20 px-5 bg-black" id="proyectos">
    <div class="relative inline-block w-full pb-12">
        <span
            class="absolute inset-0 z-0 select-none font-lexend font-extrabold text-7xl sm:text-6xl text-center
               text-mint-600 [-webkit-text-stroke:15px_#059669] opacity-70 blur-[8px] reveal"
        >
            Proyectos
        </span>

        <h2
            class="relative z-10 font-lexend font-extrabold text-7xl text-center sm:text-6xl
             text-white [-webkit-text-stroke:1px_white] reveal"
        >
            Proyectos
        </h2>
    </div>

    <div class="max-w-6xl mx-auto space-y-12 reveal">
        {
            projectsData.map((project) => (
                <EnhancedProjectCard
                    title={project.data.title}
                    image={project.data.image}
                    altImage={project.data.title}
                    desc={project.data.desc}
                    githubBackend={project.data.githubBackend}
                    githubFrontend={project.data.githubFrontend}
                    gitIcon={githubIcon}
                    techStack={project.data.techStack}
                />
            ))
        }
    </div>
</section>
