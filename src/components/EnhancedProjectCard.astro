---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
    title: string;
    image: ImageMetadata;
    altImage: string;
    desc: string;
    githubBackend: string;
    githubFrontend?: string; 
    gitIcon: ImageMetadata; 
    techStack: ImageMetadata[]; 
}

const {
    title,
    image,
    altImage,
    desc,
    githubBackend,
    githubFrontend,
    gitIcon,
    techStack,
} = Astro.props;
---

<section
    class="group relative overflow-hidden rounded-3xl bg-white shadow-xl hover:shadow-2xl transition-all duration-500 border-2 border-transparent hover:border-mint-400 my-8 reveal"
>
    <div
        class="absolute inset-0 bg-gradient-to-r from-mint-400/0 to-teal-400/0 group-hover:from-mint-400/10 group-hover:to-teal-400/10 transition-all duration-500"
    >
    </div>

    <div class="relative overflow-hidden h-64 sm:h-80">
        <Image
            src={image}
            alt={altImage}
            width={800}
            height={450}
            class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
        />
        <div
            class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"
        >
        </div>

        <div class="absolute bottom-0 left-0 right-0 p-6">
            <h3
                class="font-lexend font-bold text-3xl text-white drop-shadow-lg"
            >
                {title}
            </h3>
        </div>
    </div>

    <div class="relative p-6 sm:p-8">
        <p
            class="font-lexend text-gray-700 text-base sm:text-lg leading-relaxed mb-6"
        >
            {desc}
        </p>

        <div class="flex gap-4 mb-6 items-center">
            <span class="font-lexend font-semibold text-mint-700"
                >Tech Stack:</span
            >
            <div class="flex gap-3">
                {
                    techStack.map((tech, index) => (
                        <Image
                            src={tech}
                            alt={`Tech icon ${index + 1}`}
                            width={32}
                            height={32}
                            class="w-8 h-8 object-contain hover:scale-125 transition-transform"
                        />
                    ))
                }
            </div>
        </div>

        <div class="flex flex-col sm:flex-row gap-4">
            <a
                href={githubBackend}
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center justify-center gap-3 px-6 py-3 bg-gradient-to-r from-mint-600 to-teal-600 text-white font-lexend font-semibold rounded-xl hover:scale-105 hover:shadow-lg transition-all duration-300"
            >
                <Image
                    src={gitIcon}
                    alt="GitHub icon"
                    width={20}
                    height={20}
                    class="invert"
                />
                <span>Backend</span>
            </a>

            {
                githubFrontend && (
                    <a
                        href={githubFrontend}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="flex items-center justify-center gap-3 px-6 py-3 border-2 border-mint-500 text-mint-700 font-lexend font-semibold rounded-xl hover:bg-mint-500 hover:text-white transition-all duration-300"
                    >
                        <Image
                            src={gitIcon}
                            alt="GitHub icon"
                            width={20}
                            height={20}
                        />
                        <span>Frontend</span>
                    </a>
                )
            }
        </div>
    </div>
</section>
